<!DOCTYPE html>
<html lang="en">

<head><script src="/portfolio-website/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=portfolio-website/livereload" data-no-instant defer></script>
  <title>
  How I Built a Smart Lead Qualification Bot with n8n (and the Two Biggest Problems I Solved) ü§ñ ¬∑ Nishaf Naeem&#39;s Portfolio
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Nishaf Naeem">
<meta name="description" content="In today‚Äôs fast-paced world, one of the biggest challenges for businesses and individuals is connecting different apps and automating repetitive tasks. This is where tools like n8n (an open-source workflow automation platform) come in. Think of it as a bridge for your data‚Äîit lets you link various services, APIs, and databases together to create powerful, automated workflows without needing to write complex code. The demand for these platforms is growing rapidly because they empower people to build solutions that save time, reduce manual errors, and free up energy for more creative work. ‚ú®">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="How I Built a Smart Lead Qualification Bot with n8n (and the Two Biggest Problems I Solved) ü§ñ">
  <meta name="twitter:description" content="In today‚Äôs fast-paced world, one of the biggest challenges for businesses and individuals is connecting different apps and automating repetitive tasks. This is where tools like n8n (an open-source workflow automation platform) come in. Think of it as a bridge for your data‚Äîit lets you link various services, APIs, and databases together to create powerful, automated workflows without needing to write complex code. The demand for these platforms is growing rapidly because they empower people to build solutions that save time, reduce manual errors, and free up energy for more creative work. ‚ú®">

<meta property="og:url" content="http://localhost:1313/portfolio-website/posts/my-first-post/">
  <meta property="og:site_name" content="Nishaf Naeem&#39;s Portfolio">
  <meta property="og:title" content="How I Built a Smart Lead Qualification Bot with n8n (and the Two Biggest Problems I Solved) ü§ñ">
  <meta property="og:description" content="In today‚Äôs fast-paced world, one of the biggest challenges for businesses and individuals is connecting different apps and automating repetitive tasks. This is where tools like n8n (an open-source workflow automation platform) come in. Think of it as a bridge for your data‚Äîit lets you link various services, APIs, and databases together to create powerful, automated workflows without needing to write complex code. The demand for these platforms is growing rapidly because they empower people to build solutions that save time, reduce manual errors, and free up energy for more creative work. ‚ú®">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-14T07:07:07+01:00">
    <meta property="article:modified_time" content="2025-08-14T07:07:07+01:00">




<link rel="canonical" href="http://localhost:1313/portfolio-website/posts/my-first-post/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/portfolio-website/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/portfolio-website/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/img/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/img/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/img/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/portfolio-website/">
      Nishaf Naeem&#39;s Portfolio
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/portfolio-website/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/portfolio-website/about/">About</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/portfolio-website/posts/my-first-post/">
              How I Built a Smart Lead Qualification Bot with n8n (and the Two Biggest Problems I Solved) ü§ñ
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2025-08-14T07:07:07&#43;01:00">
                August 14, 2025
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              6-minute read
            </span>
          </div>
          
          
          
        </div>
      </header>

      <div class="post-content">
        
        <p>In today‚Äôs fast-paced world, one of the biggest challenges for businesses and individuals is connecting different apps and automating repetitive tasks. This is where tools like <strong>n8n</strong> (an open-source workflow automation platform) come in. Think of it as a bridge for your data‚Äîit lets you link various services, APIs, and databases together to create powerful, automated workflows without needing to write complex code. The demand for these platforms is growing rapidly because they empower people to build solutions that save time, reduce manual errors, and free up energy for more creative work. ‚ú®</p>
<p>I started using n8n for this very reason. I was fascinated by the idea of creating smart automations and wanted to explore how I could apply it to real-world problems. That‚Äôs why I embarked on a personal learning project to automate lead qualification. As I‚Äôve seen more and more companies use AI for lead validation, I wanted to understand the process and build my own solution. The idea was to create a workflow that could take a list of company website domains and automatically vet each one. While n8n is an amazing tool out of the box, this learning exercise required me to get my hands dirty with some custom work. This document is all about the two biggest challenges I faced and how I solved them. üõ†Ô∏è</p>
<hr>
<h2 id="the-docker-challenge-building-a-custom-n8n-image-">
  The Docker Challenge: Building a Custom n8n Image üê≥
  <a class="heading-link" href="#the-docker-challenge-building-a-custom-n8n-image-">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>The first major hurdle was getting the right tools to work inside the n8n environment. My workflow needed to handle JavaScript-heavy websites, so I needed <strong>Playwright</strong>, a powerful web automation library. My initial thought was to simply install it on a standard n8n Docker image. Easy, right?</p>
<p>Not quite. I ran into a bunch of issues, including compatibility problems with the specific Linux architecture used in the official n8n images. I kept getting errors like this:</p>
<blockquote>
<p>‚ÄúThe issue is that Playwright doesn‚Äôt have pre-built wheels for the specific Alpine Linux architecture or Python 3.12 combination in the n8n image. Let me try a different approach by using an alternative web automation library or building from source.‚Äù</p></blockquote>
<p>It became clear that I couldn‚Äôt just install Playwright in the existing environment. My solution was to build my own custom <strong>Docker image</strong>. I started with the <code>python3.13-slim-bookworm</code> base image, which is a bit more flexible. From there, I manually installed Node.js, n8n, and all the required Python libraries, including Playwright. This gave me a self-contained, custom environment that had everything I needed to run my workflow without any dependency conflicts.</p>
<p>Once the image was ready, I used a <code>docker-compose</code> file to run it. This also let me mount my local project directory into the container, so I could edit my workflow files without losing any changes. Running n8n locally this way made development and testing so much easier. ‚úÖ</p>
<hr>
<h2 id="the-python-conundrum-when-a-code-node-isnt-enough-">
  The Python Conundrum: When a Code Node Isn‚Äôt Enough üêç
  <a class="heading-link" href="#the-python-conundrum-when-a-code-node-isnt-enough-">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>With the custom Docker image, I figured the rest would be smooth sailing. I was ready to write my Python script to handle the Playwright scraping. Naturally, I tried to use n8n‚Äôs built-in <strong>Python Code node</strong>. I imported the Playwright library, wrote my code, and ran it.</p>
<p>It failed. üò©</p>
<p>I was completely stuck. I had confirmed that the libraries were installed correctly inside the container, but the Code node just couldn‚Äôt access them. After a lot of digging, I discovered a crucial detail that explained everything: the n8n Code node uses a special environment called <strong>Pyodide</strong>, and that‚Äôs where the limitations come from.</p>
<p>Here‚Äôs why I had to use the <strong>Execute Command node</strong> instead:</p>
<h3 id="the-problem-with-the-code-node-pyodide-environment-">
  The Problem with the Code Node (Pyodide Environment) üö´
  <a class="heading-link" href="#the-problem-with-the-code-node-pyodide-environment-">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The Code node runs Python in a secure, sandboxed browser environment, not on a traditional operating system. This meant it had significant constraints that made it incompatible with a powerful library like Playwright:</p>
<ul>
<li><strong>No Access to <code>pip</code></strong>: The standard <code>pip</code> command is unavailable within Pyodide. It relies on a different package manager, <code>micropip</code>, which can only install a limited set of packages specifically pre-compiled for WebAssembly.</li>
<li><strong>No Native Dependencies</strong>: This environment cannot install packages with native dependencies, which is exactly what Playwright and other libraries like <code>lxml</code> require to function.</li>
<li><strong>No System-Level Tools</strong>: The sandboxed environment lacks a conventional file system and crucial build tools like C compilers.</li>
</ul>
<h3 id="the-solution-with-the-execute-command-node-">
  The Solution with the Execute Command Node ‚úÖ
  <a class="heading-link" href="#the-solution-with-the-execute-command-node-">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The Execute Command node completely bypasses this issue because it runs bash commands directly inside the Docker container&rsquo;s full operating system. This gave me the flexibility I needed:</p>
<ul>
<li><strong>Full System Access</strong>: I had a complete Python installation with <code>pip</code> and access to all the system packages and libraries I had installed in my custom Dockerfile.</li>
<li><strong>Library Compatibility</strong>: I could run my Python script with full access to Playwright‚Äôs browser binaries and drivers.</li>
<li><strong>File System Access</strong>: The node has complete file system access, which is essential for more complex scripts.</li>
</ul>
<p>This was the breakthrough that made the Playwright fallback possible. By simply swapping out the node, I was able to turn a frustrating technical roadblock into a solid solution. üí°</p>
<hr>
<h2 id="the-final-workflow-how-it-all-fits-together-">
  The Final Workflow: How It All Fits Together ‚öôÔ∏è
  <a class="heading-link" href="#the-final-workflow-how-it-all-fits-together-">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Here‚Äôs a high-level overview of how the completed workflow operates:</p>
<ul>
<li><strong>Start</strong>: The workflow kicks off, pulling a list of company URLs from a Google Sheet. üöÄ</li>
<li><strong>Primary HTTP Request</strong>: The workflow first tries to fetch the website content using a standard HTTP request. This is the fastest method and works for most simple websites. ‚ö°</li>
<li><strong>Fallback to Playwright</strong>: If the HTTP request fails (often due to dynamic content or aggressive blocking), the workflow automatically switches to the Playwright scraper. It uses the custom Python script I created to render the page and scrape the content as a user would see it. üîÑ</li>
<li><strong>AI Analysis</strong>: The scraped HTML content is sent to an AI model (like Gemini) with a detailed prompt. This is where the magic happens. The AI analyzes the content and extracts key data points like contact information, business type, and whether the site sells products. üß†</li>
<li><strong>Lead Qualification</strong>: The AI‚Äôs analysis is then used to determine the final lead status (e.g., ‚ÄúLift Prime,‚Äù ‚ÄúUnqualified ‚Äî Junk Lead‚Äù). This part of the workflow uses a series of checks to make a smart, automated decision. ‚úÖ</li>
<li><strong>Update Sheets</strong>: Finally, all the extracted data and the final lead status are written back to the Google Sheet, giving us a clean, validated list of leads. üìà</li>
</ul>
<p>By overcoming those initial Docker and Python challenges, I was able to build a robust and highly effective automation as a personal learning exercise.</p>
<h3 id="see-the-workflow-in-action-">
  See the Workflow in Action üé¨
  <a class="heading-link" href="#see-the-workflow-in-action-">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>

      </div>


      <footer>
        


        <div id="disqus_thread"></div>
<script>
  window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yourdiscussshortname" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    
    document.addEventListener('themeChanged', function (e) { 
        if (document.readyState == 'complete') {
          DISQUS.reset({ reload: true, config: disqus_config });
        }
    });
</script>
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ¬©
    
      2018 -
    
    2025
     Nishaf Naeem 
    ¬∑
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/portfolio-website/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
